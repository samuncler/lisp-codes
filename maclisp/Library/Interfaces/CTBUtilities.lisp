(in-package :TRAPS);;;;;;;;;;;;;;;;;;;;;;;;;;; Modification History;;;; 03/05/96 bill  Insert quotes around the trap names;;; Generated from #P"HD:CCL3.0d17:Interface Translator:Source interfaces:Pascal Interfaces:CTBUtilities.p"; at Tuesday June 6,1995 2:06:54 pm.; ;  	File:		CTBUtilities.p;  ;  	Contains:	Communications Toolbox Utilities interfaces.;  ;  	Version:	Technology:	System 7.5;  				Package:	Universal Interfaces 2.0 in “MPW Latest” on ETO #17;  ;  	Copyright:	© 1984-1995 by Apple Computer, Inc.;  				All rights reserved.;  ;  	Bugs?:		If you find a problem with this file, use the Apple Bug Reporter;  				stack.  Include the file and version information (from above);  				in the problem description and send to:;  					Internet:	apple.bugs@applelink.apple.com;  					AppleLink:	APPLE.BUGS;  ; #|                                              ; $IFC UNDEFINED UsingIncludes; $SETC UsingIncludes := 0 |#                                             ; $ENDC#|                                              ; $IFC NOT UsingIncludes |#                                             ; $ENDC; $IFC UNDEFINED __CTBUTILITIES__; $SETC __CTBUTILITIES__ := 1; $I+; $SETC CTBUtilitiesIncludes := UsingIncludes; $SETC UsingIncludes := 1#|                                              ; $IFC UNDEFINED __MEMORY__|#(require-interface 'Memory)#|                                              ; $I Memory.p |#                                             ; $ENDC; 	Types.p														; 		ConditionalMacros.p										; 	MixedMode.p													#|                                              ; $IFC UNDEFINED __DIALOGS__|#(require-interface 'Dialogs)#|                                              ; $I Dialogs.p |#                                             ; $ENDC; 	Errors.p													; 	Windows.p													; 		Quickdraw.p												; 			QuickdrawText.p										; 		Events.p												; 			OSUtils.p											; 		Controls.p												; 			Menus.p												; 	TextEdit.p													; $IFC UNDEFINED __STANDARDFILE__(require-interface 'StandardFile)               ; $I StandardFile.p; $ENDC; 	Files.p														#|                                              ; $IFC UNDEFINED __APPLETALK__|#(require-interface 'AppleTalk)#|                                              ; $I AppleTalk.p |#                                             ; $ENDC; $PUSH; $ALIGN MAC68K; $LibExport+; 	version of Comm Toolbox Utilities	(defconstant $curCTBUVersion 2);     Error codes/types    (defconstant $ctbuGenericError -1)(defconstant $ctbuNoErr 0)(def-mactype :ctbuerr (find-mactype ':signed-integer))(defconstant $chooseDisaster -2)(defconstant $chooseFailed -1)(defconstant $chooseAborted 0)(defconstant $chooseOKMinor 1)(defconstant $chooseOKMajor 2)(defconstant $chooseCancel 3)(def-mactype :choosereturncode (find-mactype ':signed-integer))(defconstant $nlOk 0)(defconstant $nlCancel 1)(defconstant $nlEject 2)(def-mactype :nulookupreturncode (find-mactype ':signed-integer))(defconstant $nameInclude 1)(defconstant $nameDisable 2)(defconstant $nameReject 3)(def-mactype :namefilterreturncode (find-mactype ':signed-integer))(defconstant $zoneInclude 1)(defconstant $zoneDisable 2)(defconstant $zoneReject 3)(def-mactype :zonefilterreturncode (find-mactype ':signed-integer))(def-mactype :dialoghookprocptr (find-mactype ':pointer));  FUNCTION DialogHook(item: INTEGER; theDialog: DialogPtr): INTEGER; (def-mactype :dialoghookupp (find-mactype ':pointer))(defconstant $uppDialogHookProcInfo #x3A0)      ;  FUNCTION (2 byte param, 4 byte param): 2 byte result; ; $IFC NOT GENERATINGCFM ;; Generated by translator basic-stack-trap(deftrap "_NewDialogHookProc" ((userRoutine :pointer))   (:stack :pointer)   (:stack-trap #x2E9F)); $ENDC; $IFC NOT GENERATINGCFM;; Inline instructions called as foreign function(deftrap-inline "_CallDialogHookProc" ((item :signed-integer) (theDialog (:pointer :grafport)) (userRoutine :pointer))   :signed-integer   (#x205F #x4E90) ); $ENDC; 	Values for hookProc items		(defconstant $hookOK 1)(defconstant $hookCancel 2)(defconstant $hookOutline 3)(defconstant $hookTitle 4)(defconstant $hookItemList 5)(defconstant $hookZoneTitle 6)(defconstant $hookZoneList 7)(defconstant $hookLine 8)(defconstant $hookVersion 9)(defconstant $hookReserved1 10)(defconstant $hookReserved2 11)(defconstant $hookReserved3 12)(defconstant $hookReserved4 13); 	"virtual" hookProc items	(defconstant $hookNull 100)(defconstant $hookItemRefresh 101)(defconstant $hookZoneRefresh 102)(defconstant $hookEject 103)(defconstant $hookPreflight 104)(defconstant $hookPostflight 105)(defconstant $hookKeyBase 1000); 	NuLookup structures/constants	(defrecord NLTypeEntry    (hIcon :handle)   (typeStr (:string 32))   )(defrecord NLType (array (array :nltypeentry 4)))(defrecord NBPReply    (theEntity :entityname)   (theAddr :addrblock)   )(def-mactype :namefilterprocptr (find-mactype ':pointer));  FUNCTION NameFilter(VAR theEntity: EntityName): INTEGER; (def-mactype :namefilterupp (find-mactype ':pointer))(defconstant $uppNameFilterProcInfo #xE0)       ;  FUNCTION (4 byte param): 2 byte result; ; $IFC NOT GENERATINGCFM ;; Generated by translator basic-stack-trap(deftrap "_NewNameFilterProc" ((userRoutine :pointer))   (:stack :pointer)   (:stack-trap #x2E9F)); $ENDC; $IFC NOT GENERATINGCFM;; Inline instructions called as foreign function(deftrap-inline "_CallNameFilterProc" ((theEntity (:pointer :entityname)) (userRoutine :pointer))   :signed-integer   (#x205F #x4E90) ); $ENDC(def-mactype :zonefilterprocptr (find-mactype ':pointer));  FUNCTION ZoneFilter(theZone: ConstStr32Param): INTEGER; (def-mactype :zonefilterupp (find-mactype ':pointer))(defconstant $uppZoneFilterProcInfo #xE0)       ;  FUNCTION (4 byte param): 2 byte result; ; $IFC NOT GENERATINGCFM ;; Generated by translator basic-stack-trap(deftrap "_NewZoneFilterProc" ((userRoutine :pointer))   (:stack :pointer)   (:stack-trap #x2E9F)); $ENDC; $IFC NOT GENERATINGCFM;; Inline instructions called as foreign function(deftrap-inline "_CallZoneFilterProc" ((theZone (:string 32)) (userRoutine :pointer))   :signed-integer   (#x205F #x4E90) ); $ENDC;; Warning: No calling method defined for this trap(deftrap-inline "_InitCTBUtilities" ()   :signed-integer   () );; Warning: No calling method defined for this trap(deftrap-inline "_CTBGetCTBVersion" ()   :signed-integer   () );; Warning: No calling method defined for this trap(deftrap-inline "_StandardNBP" ((where :point) (prompt (:string 255)) (numTypes :signed-integer) (typeList (:pointer :nltype)) (nameFilter :pointer) (zoneFilter :pointer) (hook :pointer) (theReply (:pointer :nbpreply)))   :signed-integer   () )                                         ; $IFC OLDROUTINENAMES ;; Warning: No calling method defined for this trap(deftrap-inline "_CustomNBP" ((where :point) (prompt (:string 255)) (numTypes :signed-integer) (typeList (:pointer :nltype)) (nameFilter :pointer) (zoneFilter :pointer) (hook :pointer) (userData :signed-long) (dialogID :signed-integer) (filter :pointer) (theReply (:pointer :nbpreply)))   :signed-integer   () );; Warning: No calling method defined for this trap(deftrap-inline "_NuLookup" ((where :point) (prompt (:string 255)) (numTypes :signed-integer) (typeList (:pointer :nltype)) (nameFilter :pointer) (zoneFilter :pointer) (hook :pointer) (theReply (:pointer :nbpreply)))   :signed-integer   () )                                         ; $ENDC; $ALIGN RESET; $POP; $SETC UsingIncludes := CTBUtilitiesIncludes; $ENDC; __CTBUTILITIES__#|                                              ; $IFC NOT UsingIncludes;; No calling method defined for this trap(deftrap-inline "_NuPLookup" ((where :point) (prompt (:string 255)) (numTypes :signed-integer) (typeList (:pointer :nltype)) (nameFilter :pointer) (zoneFilter :pointer) (hook :pointer) (userData :signed-long) (dialogID :signed-integer) (filter :pointer) (theReply (:pointer :nbpreply)))   :signed-integer   () ) |#                                             ; $ENDC(provide-interface 'CTBUtilities);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:CTBUTILITIES.patch(DEFCTBTRAP "_CTBGetCTBVersion" nil 1029 :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:CTBUTILITIES.patch (DEFCTBTRAP "_InitCTBUtilities" Nil 1025 :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:CTBUTILITIES.patch (DEFCTBTRAP "_NuPLookup"            ((WHERE :POINT) (PROMPT (:POINTER (:STRING 255)))             (NUMTYPES :SIGNED-INTEGER) (TYPELIST (:POINTER :NLTYPE))             (NAMEFILTER :POINTER) (ZONEFILTER :POINTER) (HOOKPROC :POINTER)             (USERDATA :SIGNED-LONG) (DIALOGID :SIGNED-INTEGER)             (FILTERPROC :POINTER) (THEREPLY (:POINTER (:POINTER :NBPREPLY))))            1031            :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:CTBUTILITIES.patch (DEFCTBTRAP "_ShortenDITL"            ((THEDIALOG (:POINTER :GRAFPORT)) (NUMBERITEMS :SIGNED-INTEGER))            1028);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:CTBUTILITIES.patch (DEFCTBTRAP "_NuLookup"            ((WHERE :POINT) (PROMPT (:POINTER (:STRING 255)))             (NUMTYPES :SIGNED-INTEGER) (TYPELIST (:POINTER :NLTYPE))             (NAMEFILTER :POINTER) (ZONEFILTER :POINTER) (HOOKPROC :POINTER)             (THEREPLY (:POINTER (:POINTER :NBPREPLY))))            1030            :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:CTBUTILITIES.patch (DEFCTBTRAP "_CustomNBP"            ((WHERE :POINT) (PROMPT (:POINTER (:STRING 255)))             (NUMTYPES :SIGNED-INTEGER) (TYPELIST (:POINTER :NLTYPE))             (NAMEFILTER :POINTER) (ZONEFILTER :POINTER) (HOOKPROC :POINTER)             (USERDATA :SIGNED-LONG) (DIALOGID :SIGNED-INTEGER)             (FILTERPROC :POINTER) (THEREPLY (:POINTER (:POINTER :NBPREPLY))))            1031            :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:CTBUTILITIES.patch (DEFCTBTRAP "_AppendDITL"            ((THEDIALOG (:POINTER :GRAFPORT)) (THEDITL :HANDLE)             (METHOD :SIGNED-INTEGER))            1026);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:CTBUTILITIES.patch (DEFCTBTRAP "_CountDITL" ((THEDIALOG (:POINTER :GRAFPORT))) 1027 :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:CTBUTILITIES.patch (DEFCTBTRAP "_StandardNBP"            ((WHERE :POINT) (PROMPT (:POINTER (:STRING 255)))             (NUMTYPES :SIGNED-INTEGER) (TYPELIST (:POINTER :NLTYPE))             (NAMEFILTER :POINTER) (ZONEFILTER :POINTER) (HOOKPROC :POINTER)             (THEREPLY (:POINTER (:POINTER :NBPREPLY))))            1030            :SIGNED-INTEGER)