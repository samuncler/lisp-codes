(in-package :TRAPS);;;;;;;;;;;;;;;;;;;;;;;;;;; Modification History;;;; 10/01/96 bill #_TMGetCursor now works for ppc-target;; ------------- 4.0b2;; 03/05/96 bill  Insert quotes around the trap names;;; Generated from #P"HD:CCL3.0d17:Interface Translator:Source interfaces:Pascal Interfaces:Terminals.p"; at Tuesday June 6,1995 2:08:46 pm.; ;  	File:		Terminals.p;  ;  	Contains:	Communications Toolbox Terminal tool Interfaces.;  ;  	Version:	Technology:	System 7.5;  				Package:	Universal Interfaces 2.0 in “MPW Latest” on ETO #17;  ;  	Copyright:	© 1984-1995 by Apple Computer, Inc.;  				All rights reserved.;  ;  	Bugs?:		If you find a problem with this file, use the Apple Bug Reporter;  				stack.  Include the file and version information (from above);  				in the problem description and send to:;  					Internet:	apple.bugs@applelink.apple.com;  					AppleLink:	APPLE.BUGS;  ; #|                                              ; $IFC UNDEFINED UsingIncludes; $SETC UsingIncludes := 0 |#                                             ; $ENDC#|                                              ; $IFC NOT UsingIncludes |#                                             ; $ENDC; $IFC UNDEFINED __TERMINALS__; $SETC __TERMINALS__ := 1; $I+; $SETC TerminalsIncludes := UsingIncludes; $SETC UsingIncludes := 1#|                                              ; $IFC UNDEFINED __DIALOGS__|#(require-interface 'Dialogs)#|                                              ; $I Dialogs.p |#                                             ; $ENDC; 	Errors.p													; 		ConditionalMacros.p										; 	Memory.p													; 		Types.p													; 		MixedMode.p												; 	Windows.p													; 		Quickdraw.p												; 			QuickdrawText.p										; 		Events.p												; 			OSUtils.p											; 		Controls.p												; 			Menus.p												; 	TextEdit.p													#|                                              ; $IFC UNDEFINED __CTBUTILITIES__|#(require-interface 'CTBUtilities)#|                                              ; $I CTBUtilities.p |#                                             ; $ENDC; 	StandardFile.p												; 		Files.p													; 	AppleTalk.p													#|                                              ; $IFC UNDEFINED __CONNECTIONS__|#(require-interface 'Connections)#|                                              ; $I Connections.p |#                                             ; $ENDC; $PUSH; $ALIGN MAC68K; $LibExport+;  current Terminal Manager version 	(defconstant $curTMVersion 2);  current Terminal Manager Environment Record version 	(defconstant $curTermEnvRecVers 0);  error codes    (defconstant $tmGenericError -1)(defconstant $tmNoErr 0)(defconstant $tmNotSent 1)(defconstant $tmEnvironsChanged 2)(defconstant $tmNotSupported 7)(defconstant $tmNoTools 8)(def-mactype :tmerr (find-mactype ':signed-integer))(defconstant $tmInvisible 1)(defconstant $tmSaveBeforeClear 2)(defconstant $tmNoMenus 4)(defconstant $tmAutoScroll 8)(defconstant $tmConfigChanged 16)(def-mactype :tmflags (find-mactype ':signed-long))(defconstant $selTextNormal 1)(defconstant $selTextBoxed 2)(defconstant $selGraphicsMarquee 4)(defconstant $selGraphicsLasso 8)(defconstant $tmSearchNoDiacrit 256)(defconstant $tmSearchNoCase 512)(def-mactype :tmsearchtypes (find-mactype ':signed-integer))(def-mactype :tmseltypes (find-mactype ':signed-integer))(defconstant $cursorText 1)(defconstant $cursorGraphics 2)(def-mactype :tmcursortypes (find-mactype ':signed-integer))(defconstant $tmTextTerminal 1)(defconstant $tmGraphicsTerminal 2)(def-mactype :tmtermtypes (find-mactype ':signed-integer))(defrecord TermDataBlock    (flags :signed-integer)   (theData :handle)   (auxData :handle)   (reserved :signed-long)   )(def-mactype :termdatablockptr (find-mactype '(:pointer :termdatablock)))(def-mactype :termdatablockh (find-mactype '(:handle :termdatablock)))(def-mactype :termdatablockhandle (find-mactype '(:handle :termdatablock)))(defrecord TermEnvironRec    (version :signed-integer)   (termType :signed-integer)   (textRows :signed-integer)   (textCols :signed-integer)   (cellSize :point)   (graphicSize :rect)   (slop :point)   (auxSpace :rect)   )(def-mactype :termenvironptr (find-mactype '(:pointer :termenvironrec)))(defrecord TMSelection    (:variant       (      (selRect :rect)      )      (      (selRgnHandle (:handle :region))      )      )   )(def-mactype :termptr (find-mactype '(:pointer :termrecord)))(def-mactype :termhandle (find-mactype '(:handle :termrecord)))(def-mactype :terminalsendprocptr (find-mactype ':pointer));  FUNCTION TerminalSend(thePtr: Ptr; theSize: LONGINT; refCon: LONGINT; flags: CMFlags): LONGINT; (def-mactype :terminalbreakprocptr (find-mactype ':pointer));  PROCEDURE TerminalBreak(duration: LONGINT; refCon: LONGINT); (def-mactype :terminalcacheprocptr (find-mactype ':pointer));  FUNCTION TerminalCache(refCon: LONGINT; theTermData: TermDataBlockPtr): LONGINT; (def-mactype :terminalsearchcallbackprocptr (find-mactype ':pointer));  PROCEDURE TerminalSearchCallBack(hTerm: TermHandle; refNum: INTEGER; VAR foundRect: Rect); (def-mactype :terminalclikloopprocptr (find-mactype ':pointer));  FUNCTION TerminalClikLoop(refCon: LONGINT): BOOLEAN; (def-mactype :terminalenvironsprocptr (find-mactype ':pointer));  FUNCTION TerminalEnvirons(refCon: LONGINT; VAR theEnvirons: TermEnvironRec): CMErr; (def-mactype :terminalchooseidleprocptr (find-mactype ':pointer));  PROCEDURE TerminalChooseIdle; (def-mactype :terminaltooldefprocptr (find-mactype ':pointer));  FUNCTION TerminalToolDef(hTerm: TermHandle; msg: INTEGER; p1: LONGINT; p2: LONGINT; p3: LONGINT): LONGINT; (def-mactype :terminalsendupp (find-mactype ':pointer))(def-mactype :terminalbreakupp (find-mactype ':pointer))(def-mactype :terminalcacheupp (find-mactype ':pointer))(def-mactype :terminalsearchcallbackupp (find-mactype ':pointer))(def-mactype :terminalclikloopupp (find-mactype ':pointer))(def-mactype :terminalenvironsupp (find-mactype ':pointer))(def-mactype :terminalchooseidleupp (find-mactype ':pointer))(def-mactype :terminaltooldefupp (find-mactype ':pointer))(defrecord TermRecord    (procID :signed-integer)   (flags :signed-long)   (errCode :signed-integer)   (refCon :signed-long)   (userData :signed-long)   (defProc :pointer)   (config :pointer)   (oldConfig :pointer)   (environsProc :pointer)   (reserved1 :signed-long)   (reserved2 :signed-long)   (tmPrivate :pointer)   (sendProc :pointer)   (breakProc :pointer)   (cacheProc :pointer)   (clikLoop :pointer)   (owner (:pointer :grafport))   (termRect :rect)   (viewRect :rect)   (visRect :rect)   (lastIdle :signed-long)   (selection :tmselection)   (selType :signed-integer)   (mluField :signed-long)   )(defconstant $uppTerminalSendProcInfo #x2FF0)   ;  FUNCTION (4 byte param, 4 byte param, 4 byte param, 2 byte param): 4 byte result; (defconstant $uppTerminalBreakProcInfo #x3C0)   ;  PROCEDURE (4 byte param, 4 byte param); (defconstant $uppTerminalCacheProcInfo #x3F0)   ;  FUNCTION (4 byte param, 4 byte param): 4 byte result; (defconstant $uppTerminalSearchCallBackProcInfo #xEC0);  PROCEDURE (4 byte param, 2 byte param, 4 byte param); (defconstant $uppTerminalClikLoopProcInfo #xD0) ;  FUNCTION (4 byte param): 1 byte result; (defconstant $uppTerminalEnvironsProcInfo #x3E0);  FUNCTION (4 byte param, 4 byte param): 2 byte result; (defconstant $uppTerminalChooseIdleProcInfo #x0);  PROCEDURE ; (defconstant $uppTerminalToolDefProcInfo #xFEF0);  FUNCTION (4 byte param, 2 byte param, 4 byte param, 4 byte param, 4 byte param): 4 byte result; ; $IFC NOT GENERATINGCFM ;; Generated by translator basic-stack-trap(deftrap "_NewTerminalSendProc" ((userRoutine :pointer))   (:stack :pointer)   (:stack-trap #x2E9F)); $ENDC; $IFC NOT GENERATINGCFM ;; Generated by translator basic-stack-trap(deftrap "_NewTerminalBreakProc" ((userRoutine :pointer))   (:stack :pointer)   (:stack-trap #x2E9F)); $ENDC; $IFC NOT GENERATINGCFM ;; Generated by translator basic-stack-trap(deftrap "_NewTerminalCacheProc" ((userRoutine :pointer))   (:stack :pointer)   (:stack-trap #x2E9F)); $ENDC; $IFC NOT GENERATINGCFM ;; Generated by translator basic-stack-trap(deftrap "_NewTerminalSearchCallBackProc" ((userRoutine :pointer))   (:stack :pointer)   (:stack-trap #x2E9F)); $ENDC; $IFC NOT GENERATINGCFM ;; Generated by translator basic-stack-trap(deftrap "_NewTerminalClikLoopProc" ((userRoutine :pointer))   (:stack :pointer)   (:stack-trap #x2E9F)); $ENDC; $IFC NOT GENERATINGCFM ;; Generated by translator basic-stack-trap(deftrap "_NewTerminalEnvironsProc" ((userRoutine :pointer))   (:stack :pointer)   (:stack-trap #x2E9F)); $ENDC; $IFC NOT GENERATINGCFM ;; Generated by translator basic-stack-trap(deftrap "_NewTerminalChooseIdleProc" ((userRoutine :pointer))   (:stack :pointer)   (:stack-trap #x2E9F)); $ENDC; $IFC NOT GENERATINGCFM ;; Generated by translator basic-stack-trap(deftrap "_NewTerminalToolDefProc" ((userRoutine :pointer))   (:stack :pointer)   (:stack-trap #x2E9F)); $ENDC; $IFC NOT GENERATINGCFM;; Inline instructions called as foreign function(deftrap-inline "_CallTerminalSendProc" ((thePtr :pointer) (theSize :signed-long) (refCon :signed-long) (flags :signed-integer) (userRoutine :pointer))   :signed-long   (#x205F #x4E90) ); $ENDC; $IFC NOT GENERATINGCFM;; Inline instructions called as foreign function(deftrap-inline "_CallTerminalBreakProc" ((duration :signed-long) (refCon :signed-long) (userRoutine :pointer))   nil   (#x205F #x4E90) ); $ENDC; $IFC NOT GENERATINGCFM;; Inline instructions called as foreign function(deftrap-inline "_CallTerminalCacheProc" ((refCon :signed-long) (theTermData (:pointer :termdatablock)) (userRoutine :pointer))   :signed-long   (#x205F #x4E90) ); $ENDC; $IFC NOT GENERATINGCFM;; Inline instructions called as foreign function(deftrap-inline "_CallTerminalSearchCallBackProc" ((hTerm (:handle :termrecord)) (refNum :signed-integer) (foundRect (:pointer :rect)) (userRoutine :pointer))   nil   (#x205F #x4E90) ); $ENDC; $IFC NOT GENERATINGCFM;; Inline instructions called as foreign function(deftrap-inline "_CallTerminalClikLoopProc" ((refCon :signed-long) (userRoutine :pointer))   :boolean   (#x205F #x4E90) ); $ENDC; $IFC NOT GENERATINGCFM;; Inline instructions called as foreign function(deftrap-inline "_CallTerminalEnvironsProc" ((refCon :signed-long) (theEnvirons (:pointer :termenvironrec)) (userRoutine :pointer))   :signed-integer   (#x205F #x4E90) ); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator register-trap-1-arg-no-return(deftrap "_CallTerminalChooseIdleProc" ((userRoutine :pointer))   nil   (:register-trap #x4E90 :a0 userRoutine)); $ENDC; $IFC NOT GENERATINGCFM;; Inline instructions called as foreign function(deftrap-inline "_CallTerminalToolDefProc" ((hTerm (:handle :termrecord)) (msg :signed-integer) (p1 :signed-long) (p2 :signed-long) (p3 :signed-long) (userRoutine :pointer))   :signed-long   (#x205F #x4E90) ); $ENDC;; Warning: No calling method defined for this trap(deftrap-inline "_InitTM" ()   :signed-integer   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMGetVersion" ((hTerm (:handle :termrecord)))   :handle   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMGetTMVersion" ()   :signed-integer   () )                                         ; CONST; CONST;; Warning: No calling method defined for this trap(deftrap-inline "_TMNew" ((termRect (:pointer :rect)) (viewRect (:pointer :rect)) (flags :signed-long) (procID :signed-integer) (owner (:pointer :grafport)) (sendProc :pointer) (cacheProc :pointer) (breakProc :pointer) (clikLoop :pointer) (environsProc :pointer) (refCon :signed-long) (userData :signed-long))   (:handle :termrecord)   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMDispose" ((hTerm (:handle :termrecord)))   nil   () )                                         ; CONST;; Warning: No calling method defined for this trap(deftrap-inline "_TMKey" ((hTerm (:handle :termrecord)) (theEvent (:pointer :eventrecord)))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMUpdate" ((hTerm (:handle :termrecord)) (visRgn (:handle :region)))   nil   () )                                         ; CONST; CONST;; Warning: No calling method defined for this trap(deftrap-inline "_TMPaint" ((hTerm (:handle :termrecord)) (theTermData (:pointer :termdatablock)) (theRect (:pointer :rect)))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMActivate" ((hTerm (:handle :termrecord)) (activate :boolean))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMResume" ((hTerm (:handle :termrecord)) (resume :boolean))   nil   () )                                         ; CONST;; Warning: No calling method defined for this trap(deftrap-inline "_TMClick" ((hTerm (:handle :termrecord)) (theEvent (:pointer :eventrecord)))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMIdle" ((hTerm (:handle :termrecord)))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMStream" ((hTerm (:handle :termrecord)) (theBuffer :pointer) (theLength :signed-long) (flags :signed-integer))   :signed-long   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMMenu" ((hTerm (:handle :termrecord)) (menuID :signed-integer) (item :signed-integer))   :boolean   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMReset" ((hTerm (:handle :termrecord)))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMClear" ((hTerm (:handle :termrecord)))   nil   () )                                         ; CONST;; Warning: No calling method defined for this trap(deftrap-inline "_TMResize" ((hTerm (:handle :termrecord)) (newViewRect (:pointer :rect)))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMGetSelect" ((hTerm (:handle :termrecord)) (theData :handle) (theType (:pointer :ostype)))   :signed-long   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMGetLine" ((hTerm (:handle :termrecord)) (lineNo :signed-integer) (theTermData (:pointer :termdatablock)))   nil   () )                                         ; CONST;; Warning: No calling method defined for this trap(deftrap-inline "_TMSetSelection" ((hTerm (:handle :termrecord)) (theSelection (:pointer :tmselection)) (selType :signed-integer))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMScroll" ((hTerm (:handle :termrecord)) (dh :signed-integer) (dv :signed-integer))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMValidate" ((hTerm (:handle :termrecord)))   :boolean   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMDefault" ((theConfig (:pointer :pointer)) (procID :signed-integer) (allocate :boolean))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMSetupPreflight" ((procID :signed-integer) (magicCookie (:pointer :signed-long)))   :handle   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMSetupSetup" ((procID :signed-integer) (theConfig :pointer) (count :signed-integer) (theDialog (:pointer :grafport)) (magicCookie (:pointer :signed-long)))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMSetupFilter" ((procID :signed-integer) (theConfig :pointer) (count :signed-integer) (theDialog (:pointer :grafport)) (theEvent (:pointer :eventrecord)) (theItem (:pointer :signed-integer)) (magicCookie (:pointer :signed-long)))   :boolean   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMSetupItem" ((procID :signed-integer) (theConfig :pointer) (count :signed-integer) (theDialog (:pointer :grafport)) (theItem (:pointer :signed-integer)) (magicCookie (:pointer :signed-long)))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMSetupXCleanup" ((procID :signed-integer) (theConfig :pointer) (count :signed-integer) (theDialog (:pointer :grafport)) (OKed :boolean) (magicCookie (:pointer :signed-long)))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMSetupPostflight" ((procID :signed-integer))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMGetConfig" ((hTerm (:handle :termrecord)))   :pointer   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMSetConfig" ((hTerm (:handle :termrecord)) (thePtr :pointer))   :signed-integer   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMIntlToEnglish" ((hTerm (:handle :termrecord)) (inputPtr :pointer) (outputPtr (:pointer :pointer)) (language :signed-integer))   :signed-integer   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMEnglishToIntl" ((hTerm (:handle :termrecord)) (inputPtr :pointer) (outputPtr (:pointer :pointer)) (language :signed-integer))   :signed-integer   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMGetToolName" ((id :signed-integer) (name (:pointer (:string 255))))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMGetProcID" ((name (:string 255)))   :signed-integer   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMSetRefCon" ((hTerm (:handle :termrecord)) (refCon :signed-long))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMGetRefCon" ((hTerm (:handle :termrecord)))   :signed-long   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMSetUserData" ((hTerm (:handle :termrecord)) (userData :signed-long))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMGetUserData" ((hTerm (:handle :termrecord)))   :signed-long   () )                                         ; CONST;; Warning: No calling method defined for this trap(deftrap-inline "_TMAddSearch" ((hTerm (:handle :termrecord)) (theString (:string 255)) (where (:pointer :rect)) (searchType :signed-integer) (callBack :pointer))   :signed-integer   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMRemoveSearch" ((hTerm (:handle :termrecord)) (refnum :signed-integer))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMClearSearch" ((hTerm (:handle :termrecord)))   nil   () );; Warning: No calling method defined for this trap(deftrap (_TMGetCursor nil) ((hTerm (:handle :termrecord)) (cursType :signed-integer))         (:no-trap :point)  (:no-trap   #+ppc-target   (ccl::rlet ((p :long))     (ccl::ff-call-slep      #.(ccl::get-shared-library-entry-point "TMGetCursor")      :ptr p      :ptr hTerm      :word cursType      :void)     (%get-long p))   #-ppc-target   (_TMGetCursor-not-implemented)));; Warning: No calling method defined for this trap(deftrap-inline "_TMGetTermEnvirons" ((hTerm (:handle :termrecord)) (theEnvirons (:pointer :termenvironrec)))   :signed-integer   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMChoose" ((hTerm (:pointer (:handle :termrecord))) (where :point) (idleProc :pointer))   :signed-integer   () )                                         ; CONST;; Warning: No calling method defined for this trap(deftrap-inline "_TMEvent" ((hTerm (:handle :termrecord)) (theEvent (:pointer :eventrecord)))   nil   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMDoTermKey" ((hTerm (:handle :termrecord)) (theKey (:string 255)))   :boolean   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMCountTermKeys" ((hTerm (:handle :termrecord)))   :signed-integer   () );; Warning: No calling method defined for this trap(deftrap-inline "_TMGetIndTermKey" ((hTerm (:handle :termrecord)) (id :signed-integer) (theKey (:pointer (:string 255))))   nil   () )                                         ; $ALIGN RESET; $POP; $SETC UsingIncludes := TerminalsIncludes; $ENDC; __TERMINALS__#|                                              ; $IFC NOT UsingIncludes;; No calling method defined for this trap(deftrap-inline "_TMGetErrorString" ((hTerm (:handle :termrecord)) (id :signed-integer) (errMsg (:pointer (:string 255))))   nil   () ) |#                                             ; $ENDC(provide-interface 'Terminals);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch(DEFCTBTRAP "_TMClearSearch" ((HTERM (:POINTER :TERMPTR))) 809 NIL);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMSetUserData"            ((HTERM (:POINTER :TERMPTR)) (USERDATA :SIGNED-LONG))            803            NIL);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMSetConfig"            ((HTERM (:POINTER :TERMPTR)) (THEPTR :POINTER))            796            :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMNew"            ((TERMRECT (:POINTER :RECT)) (VIEWRECT (:POINTER :RECT))             (FLAGS :SIGNED-LONG) (PROCID :SIGNED-INTEGER)             (OWNER (:POINTER :GRAFPORT)) (SENDPROC :POINTER)             (CACHEPROC :POINTER) (BREAKPROC :POINTER) (CLIKLOOP :POINTER)             (ENVIRONSPROC :POINTER) (REFCON :SIGNED-LONG)             (USERDATA :SIGNED-LONG))            770            (:POINTER :TERMPTR));; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMDefault"            ((THECONFIG (:POINTER :POINTER)) (PROCID :SIGNED-INTEGER)             (ALLOCATE :BOOLEAN))            789);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMSetSelection"            ((HTERM (:POINTER :TERMPTR)) (THESELECTION :TMSELECTION)             (SELTYPE :SIGNED-INTEGER))            785);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMSetRefCon"            ((HTERM (:POINTER :TERMPTR)) (REFCON :SIGNED-LONG))            801            NIL);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMClick"            ((HTERM (:POINTER :TERMPTR)) (THEEVENT (:POINTER :EVENTRECORD)))            777);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMGetVersion" ((HTERM (:POINTER :TERMPTR))) 805 :HANDLE);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMSetupPostflight" ((PROCID :SIGNED-INTEGER)) 817);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMGetLine"            ((HTERM (:POINTER :TERMPTR)) (LINENO :SIGNED-INTEGER)             (THETERMDATA (:POINTER :TERMDATABLOCK)))            784);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMGetIndTermKey"            ((HTERM (:POINTER :TERMPTR)) (ID :SIGNED-INTEGER)             (THEKEY (:POINTER (:STRING 255))))            816            NIL);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMGetProcID" ((NAME (:POINTER (:STRING 255)))) 799 :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMGetTermEnvirons"            ((HTERM (:POINTER :TERMPTR))             (THEENVIRONS (:POINTER :TERMENVIRONREC)))            811            :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMIntlToEnglish"            ((HTERM (:POINTER :TERMPTR)) (INPUTPTR :POINTER)             (OUTPUTPTR (:POINTER :POINTER)) (LANGUAGE :SIGNED-INTEGER))            797            :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMAddSearch"            ((HTERM (:POINTER :TERMPTR)) (THESTRING (:STRING 255))             (WHERE :RECT) (SEARCHTYPE :SIGNED-INTEGER) (CALLBACK :POINTER))            807            :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMEnglishToIntl"            ((HTERM (:POINTER :TERMPTR)) (INPUTPTR :POINTER)             (OUTPUTPTR (:POINTER :POINTER)) (LANGUAGE :SIGNED-INTEGER))            798            :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMSetupCleanup"            ((PROCID :SIGNED-INTEGER) (THECONFIG :POINTER)             (COUNT :SIGNED-INTEGER) (THEDIALOG (:POINTER :GRAFPORT))             (MAGICCOOKIE (:POINTER :SIGNED-LONG)))            794);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMSetupXCleanup"            ((PROCID :SIGNED-INTEGER) (THECONFIG :POINTER)             (COUNT :SIGNED-INTEGER) (THEDIALOG (:POINTER :GRAFPORT))             (OKED :BOOLEAN) (MAGICCOOKIE (:POINTER :SIGNED-LONG)))            820);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMReset" ((HTERM (:POINTER :TERMPTR))) 780);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMActivate" ((HTERM (:POINTER :TERMPTR)) (ACTIVATE :BOOLEAN)) 775);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMValidate" ((HTERM (:POINTER :TERMPTR))) 788 :BOOLEAN);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMGetTMVersion" NIL 806 :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMChoose"            ((HTERM (:POINTER (:POINTER :TERMPTR))) (WHERE :POINT)             (IDLEPROC :POINTER))            812            :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMResume" ((HTERM (:POINTER :TERMPTR)) (RESUME :BOOLEAN)) 776);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMKey"            ((HTERM (:POINTER :TERMPTR)) (THEEVENT (:POINTER :EVENTRECORD)))            772);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMIdle" ((HTERM (:POINTER :TERMPTR))) 787);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMGetToolName"            ((ID :SIGNED-INTEGER) (NAME (:POINTER (:STRING 255))))            800);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMSetupSetup"            ((PROCID :SIGNED-INTEGER) (THECONFIG :POINTER)             (COUNT :SIGNED-INTEGER) (THEDIALOG (:POINTER :GRAFPORT))             (MAGICCOOKIE (:POINTER :SIGNED-LONG)))            791);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMDispose" ((HTERM (:POINTER :TERMPTR))) 771);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMGetSelect"            ((HTERM (:POINTER :TERMPTR)) (THEDATA :HANDLE)             (THETYPE (:POINTER :OSTYPE)))            783            :SIGNED-LONG);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMEvent"            ((HTERM (:POINTER :TERMPTR)) (THEEVENT :EVENTRECORD))            813            NIL);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMGetRefCon" ((HTERM (:POINTER :TERMPTR))) 802 :SIGNED-LONG);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMStream"            ((HTERM (:POINTER :TERMPTR)) (THEBUFFER :POINTER)             (THELENGTH :SIGNED-LONG) (FLAGS :SIGNED-INTEGER))            778            :SIGNED-LONG);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMSetupPreflight"            ((PROCID :SIGNED-INTEGER) (MAGICCOOKIE (:POINTER :SIGNED-LONG)))            790            :HANDLE);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMGetErrorString"            ((HTERM (:POINTER :TERMPTR)) (ID :SIGNED-INTEGER)             (ERRMSG (:POINTER (:STRING 255))))            821            NIL);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMGetConfig" ((HTERM (:POINTER :TERMPTR))) 795 :POINTER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMPChoose"            ((HTERM (:POINTER (:POINTER :TERMPTR))) (WHERE :POINT)             (CREC (:POINTER :TMCHOOSEREC)))            819            :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMGetCursor"            ((HTERM (:POINTER :TERMPTR)) (CURSTYPE :SIGNED-INTEGER))            810            :POINT);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMClear" ((HTERM (:POINTER :TERMPTR))) 781);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_InitTM" NIL 769 :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMCountTermKeys" ((HTERM (:POINTER :TERMPTR))) 815 :SIGNED-INTEGER);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMScroll"            ((HTERM (:POINTER :TERMPTR)) (DH :SIGNED-INTEGER)             (DV :SIGNED-INTEGER))            786);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMUpdate"            ((HTERM (:POINTER :TERMPTR)) (VISRGN (:HANDLE :REGION)))            773);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMPaint"            ((HTERM (:POINTER :TERMPTR)) (THETERMDATA :TERMDATABLOCK)             (THERECT :RECT))            774);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMMenu"            ((HTERM (:POINTER :TERMPTR)) (MENUID :SIGNED-INTEGER)             (ITEM :SIGNED-INTEGER))            779            :BOOLEAN);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMDoTermKey"            ((HTERM (:POINTER :TERMPTR)) (THEKEY (:STRING 255)))            814            :BOOLEAN);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMSetupItem"            ((PROCID :SIGNED-INTEGER) (THECONFIG :POINTER)             (COUNT :SIGNED-INTEGER) (THEDIALOG (:POINTER :GRAFPORT))             (THEITEM (:POINTER :SIGNED-INTEGER))             (MAGICCOOKIE (:POINTER :SIGNED-LONG)))            793);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMSetupFilter"            ((PROCID :SIGNED-INTEGER) (THECONFIG :POINTER)             (COUNT :SIGNED-INTEGER) (THEDIALOG (:POINTER :GRAFPORT))             (THEEVENT (:POINTER :EVENTRECORD))             (THEITEM (:POINTER :SIGNED-INTEGER))             (MAGICCOOKIE (:POINTER :SIGNED-LONG)))            792            :BOOLEAN);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMGetUserData" ((HTERM (:POINTER :TERMPTR))) 804 :SIGNED-LONG);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMResize" ((HTERM (:POINTER :TERMPTR)) (NEWVIEWRECT :RECT)) 782);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCTBTRAP "_TMRemoveSearch"            ((HTERM (:POINTER :TERMPTR)) (REFNUM :SIGNED-INTEGER))            808            NIL);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFRECORD TMChooseRec           (RESERVED :SIGNED-LONG)           (MSG :SIGNED-LONG)           (IDLEPROC :POINTER)           (FILTERPROC :POINTER)           (NEWTOOL (:STRING 63))           (NEWCONFIG :POINTER)           (EVENTPROC :POINTER));; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEF-MACTYPE :TMCHOOSERECPTR (FIND-MACTYPE :POINTER));; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCONSTANT $TMCHOOSEBACKDOOR 2);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:Terminals.patch (DEFCONSTANT $TMCHOOSENOCHANGE 1)