(in-package :TRAPS); Generated from #P"HD:CCL3.0d17:Interface Translator:Source interfaces:Pascal Interfaces:AppleGuide.p"; at Tuesday June 6,1995 2:04:23 pm.; ;  	File:		AppleGuide.p;  ;  	Contains:	Apple Guide Interfaces.;  ;  	Version:	Technology:	System 7.5;  				Package:	Universal Interfaces 2.0 in “MPW Latest” on ETO #17;  ;  	Copyright:	© 1984-1995 by Apple Computer, Inc.;  				All rights reserved.;  ;  	Bugs?:		If you find a problem with this file, use the Apple Bug Reporter;  				stack.  Include the file and version information (from above);  				in the problem description and send to:;  					Internet:	apple.bugs@applelink.apple.com;  					AppleLink:	APPLE.BUGS;  ; #|                                              ; $IFC UNDEFINED UsingIncludes; $SETC UsingIncludes := 0 |#                                             ; $ENDC; $IFC NOT UsingIncludes; $ENDC; $IFC UNDEFINED __APPLEGUIDE__; $SETC __APPLEGUIDE__ := 1; $I+; $SETC AppleGuideIncludes := UsingIncludes; $SETC UsingIncludes := 1#|                                              ; $IFC UNDEFINED __APPLEEVENTS__|#(require-interface 'AppleEvents)#|                                              ; $I AppleEvents.p |#                                             ; $ENDC; 	Errors.p													; 		ConditionalMacros.p										; 	Types.p														; 	Memory.p													; 		MixedMode.p												; 	OSUtils.p													; 	Events.p													; 		Quickdraw.p												; 			QuickdrawText.p										; 	EPPC.p														; 		AppleTalk.p												; 		Files.p													; 		PPCToolbox.p											; 		Processes.p												; 	Notification.p												#|                                              ; $IFC UNDEFINED __FILES__|#(require-interface 'Files)#|                                              ; $I Files.p |#                                             ; $ENDC#|                                              ; $IFC UNDEFINED __TYPES__|#(require-interface 'Types)#|                                              ; $I Types.p |#                                             ; $ENDC; $PUSH; $ALIGN MAC68K; $LibExport+(def-mactype :agrefnum (find-mactype ':unsigned-long))(def-mactype :agcoachrefnum (find-mactype ':unsigned-long))(def-mactype :agcontextrefnum (find-mactype ':unsigned-long))(defrecord AGAppInfo    (eventId :ostype)   (refCon :signed-long)   (contextObj :pointer)                        ;  private system field   )(def-mactype :agappinfoptr (find-mactype '(:pointer :agappinfo)))(def-mactype :agappinfohdl (find-mactype '(:handle :agappinfo)))(def-mactype :coachreplyprocptr (find-mactype ':pointer));  FUNCTION CoachReply(VAR pRect: Rect; name: Ptr; refCon: LONGINT): OSErr; (def-mactype :contextreplyprocptr (find-mactype ':pointer));  FUNCTION ContextReply(pInputData: Ptr; inputDataSize: Size; VAR ppOutputData: Ptr; VAR pOutputDataSize: Size; hAppInfo: AGAppInfoHdl): OSErr; (def-mactype :coachreplyupp (find-mactype ':pointer))(def-mactype :contextreplyupp (find-mactype ':pointer))(defconstant $uppCoachReplyProcInfo #xFE0)      ;  FUNCTION (4 byte param, 4 byte param, 4 byte param): 2 byte result; (defconstant $uppContextReplyProcInfo #xFFE0)   ;  FUNCTION (4 byte param, 4 byte param, 4 byte param, 4 byte param, 4 byte param): 2 byte result; ; $IFC NOT GENERATINGCFM ;; Generated by translator basic-stack-trap(deftrap "_NewCoachReplyProc" ((userRoutine :pointer))   (:stack :pointer)   (:stack-trap #x2E9F)); $ENDC; $IFC NOT GENERATINGCFM ;; Generated by translator basic-stack-trap(deftrap "_NewContextReplyProc" ((userRoutine :pointer))   (:stack :pointer)   (:stack-trap #x2E9F)); $ENDC; $IFC NOT GENERATINGCFM;; Inline instructions called as foreign function(deftrap-inline "_CallCoachReplyProc" ((pRect (:pointer :rect)) (name :pointer) (refCon :signed-long) (userRoutine :pointer))   :signed-integer   (#x205F #x4E90) ); $ENDC; $IFC NOT GENERATINGCFM;; Inline instructions called as foreign function(deftrap-inline "_CallContextReplyProc" ((pInputData :pointer) (inputDataSize :signed-long) (ppOutputData (:pointer :pointer)) (pOutputDataSize (:pointer :signed-long)) (hAppInfo (:handle :agappinfo)) (userRoutine :pointer))   :signed-integer   (#x205F #x4E90) ); $ENDC(defconstant $gestaltAppleGuidePresent 31)(defconstant $gestaltAppleGuideIsDebug 30)(defconstant $kAGDefault 0)(defconstant $kAGFrontDatabase 1)(defconstant $kAGNoMixin -1)(defconstant $kAGViewFullHowdy 1)               ;  Full-size Howdy(defconstant $kAGViewTopicAreas 2)              ;  Full-size Topic Areas(defconstant $kAGViewIndex 3)                   ;  Full-size Index Terms(defconstant $kAGViewLookFor 4)                 ;  Full-size Look-For (Search)(defconstant $kAGViewSingleHowdy 5)             ;  Single-list-size Howdy(defconstant $kAGViewSingleTopics 6)            ;  Single-list-size Topics(defconstant $kAGFileMain :|poco|)(defconstant $kAGFileMixin :|mixn|);  To test against AGGetAvailableDBTypes(defconstant $kAGDBTypeBitAny #x1)(defconstant $kAGDBTypeBitHelp #x2)(defconstant $kAGDBTypeBitTutorial #x4)(defconstant $kAGDBTypeBitShortcuts #x8)(defconstant $kAGDBTypeBitAbout #x10)(defconstant $kAGDBTypeBitOther #x80)(def-mactype :agstatus (find-mactype ':unsigned-integer));  Returned by AGGetStatus(defconstant $kAGIsNotRunning 0)(defconstant $kAGIsSleeping 1)(defconstant $kAGIsActive 2)(def-mactype :agwindowkind (find-mactype ':unsigned-integer));  Returned by AGGetFrontWindowKind(defconstant $kAGNoWindow 0)(defconstant $kAGAccessWindow 1)(defconstant $kAGPresentationWindow 2);  Error Codes;  Not an enum, because other OSErrs are valid.(def-mactype :agerr (find-mactype ':signed-integer));  Apple Guide error codes;  -------------------- Apple event reply codes(defconstant $kAGErrUnknownEvent -2900)(defconstant $kAGErrCantStartup -2901)(defconstant $kAGErrNoAccWin -2902)(defconstant $kAGErrNoPreWin -2903)(defconstant $kAGErrNoSequence -2904)(defconstant $kAGErrNotOopsSequence -2905)(defconstant $kAGErrReserved06 -2906)(defconstant $kAGErrNoPanel -2907)(defconstant $kAGErrContentNotFound -2908)(defconstant $kAGErrMissingString -2909)(defconstant $kAGErrInfoNotAvail -2910)(defconstant $kAGErrEventNotAvailable -2911)(defconstant $kAGErrCannotMakeCoach -2912)(defconstant $kAGErrSessionIDsNotMatch -2913)(defconstant $kAGErrMissingDatabaseSpec -2914);  -------------------- Coach's Chalkboard reply codes(defconstant $kAGErrItemNotFound -2925)(defconstant $kAGErrBalloonResourceNotFound -2926)(defconstant $kAGErrChalkResourceNotFound -2927)(defconstant $kAGErrChdvResourceNotFound -2928)(defconstant $kAGErrAlreadyShowing -2929)(defconstant $kAGErrBalloonResourceSkip -2930)(defconstant $kAGErrItemNotVisible -2931)(defconstant $kAGErrReserved32 -2932)(defconstant $kAGErrNotFrontProcess -2933)(defconstant $kAGErrMacroResourceNotFound -2934);  -------------------- API reply codes(defconstant $kAGErrAppleGuideNotAvailable -2951)(defconstant $kAGErrCannotInitCoach -2952)(defconstant $kAGErrCannotInitContext -2953)(defconstant $kAGErrCannotOpenAliasFile -2954)(defconstant $kAGErrNoAliasResource -2955)(defconstant $kAGErrDatabaseNotAvailable -2956)(defconstant $kAGErrDatabaseNotOpen -2957)(defconstant $kAGErrMissingAppInfoHdl -2958)(defconstant $kAGErrMissingContextObject -2959)(defconstant $kAGErrInvalidRefNum -2960)(defconstant $kAGErrDatabaseOpen -2961)(defconstant $kAGErrInsufficientMemory -2962);  Events;  Not an enum because we want to make assignments.(def-mactype :agevent (find-mactype ':unsigned-long));  Handy events for AGGeneral.;  Panel actions (Require a presentation window).(defconstant $kAGEventDoCoach :|doco|)(defconstant $kAGEventDoHuh :|dhuh|)(defconstant $kAGEventGoNext :|gonp|)(defconstant $kAGEventGoPrev :|gopp|)(defconstant $kAGEventHidePanel :|pahi|)(defconstant $kAGEventReturnBack :|gobk|)(defconstant $kAGEventShowPanel :|pash|)(defconstant $kAGEventTogglePanel :|patg|);  Functions;  AGClose;  Close the database associated with the AGRefNum.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGClose" ((refNum (:pointer :unsigned-long)))   (:stack :signed-integer)   (:stack-trap #xAA6E :d0 17 refNum)); $ENDC;  AGGeneral;  Cause various events to happen.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGGeneral" ((refNum :unsigned-long) (theEvent :unsigned-long))   (:stack :signed-integer)   (:stack-trap #xAA6E :d0 13 refNum theEvent)); $ENDC;  AGGetAvailableDBTypes;  Return the database types available for this application.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGGetAvailableDBTypes" ()   (:stack :unsigned-long)   (:stack-trap #xAA6E :d0 8)); $ENDC;  AGGetFrontWindowKind;  Return the kind of the front window.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGGetFrontWindowKind" ((refNum :unsigned-long))   (:stack :unsigned-integer)   (:stack-trap #xAA6E :d0 12 refNum)); $ENDC;  AGGetFSSpec;  Return the FSSpec for the AGRefNum.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGGetFSSpec" ((refNum :unsigned-long) (fileSpec (:pointer :fsspec)))   (:stack :signed-integer)   (:stack-trap #xAA6E :d0 15 refNum fileSpec)); $ENDC;  AGGetStatus;  Return the status of Apple Guide.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGGetStatus" ()   (:stack :unsigned-integer)   (:stack-trap #xAA6E :d0 9)); $ENDC;  AGInstallCoachHandler;  Install a Coach object location query handler.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGInstallCoachHandler" ((coachReplyProc :pointer) (refCon :signed-long) (resultRefNum (:pointer :unsigned-long)))   (:stack :signed-integer)   (:stack-trap #xAA6E :d0 18 coachReplyProc refCon resultRefNum)); $ENDC;  AGInstallContextHandler;  Install a context check query handler.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGInstallContextHandler" ((contextReplyProc :pointer) (eventID :ostype) (refCon :signed-long) (resultRefNum (:pointer :unsigned-long)))   (:stack :signed-integer)   (:stack-trap #xAA6E :d0 19 contextReplyProc eventID refCon resultRefNum)); $ENDC;  AGIsDatabaseOpen;  Return true if the database associated with the AGRefNum is open.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGIsDatabaseOpen" ((refNum :unsigned-long))   (:stack :boolean)   (:stack-trap #xAA6E :d0 6 refNum)); $ENDC;  AGOpen;  Open a guide database.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGOpen" ((fileSpec (:pointer :fsspec)) (flags :unsigned-long) (mixinControl :handle) (resultRefNum (:pointer :unsigned-long)))   (:stack :signed-integer)   (:stack-trap #xAA6E :d0 1 fileSpec flags mixinControl resultRefNum)); $ENDC;  AGOpenWithSearch;  Open a guide database and preset a search string.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGOpenWithSearch" ((fileSpec (:pointer :fsspec)) (flags :unsigned-long) (mixinControl :handle) (searchString (:string 255)) (resultRefNum (:pointer :unsigned-long)))   (:stack :signed-integer)   (:stack-trap #xAA6E :d0 2 fileSpec flags mixinControl searchString resultRefNum)); $ENDC;  AGOpenWithSequence;  Open a guide database and display a presentation window sequence.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGOpenWithSequence" ((fileSpec (:pointer :fsspec)) (flags :unsigned-long) (mixinControl :handle) (sequenceID :signed-integer) (resultRefNum (:pointer :unsigned-long)))   (:stack :signed-integer)   (:stack-trap #xAA6E :d0 4 fileSpec flags mixinControl sequenceID resultRefNum)); $ENDC;  AGOpenWithView;  Open a guide database and override the default view.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGOpenWithView" ((fileSpec (:pointer :fsspec)) (flags :unsigned-long) (mixinControl :handle) (viewNum :signed-integer) (resultRefNum (:pointer :unsigned-long)))   (:stack :signed-integer)   (:stack-trap #xAA6E :d0 5 fileSpec flags mixinControl viewNum resultRefNum)); $ENDC;  AGQuit;  Make Apple Guide quit.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGQuit" ()   (:stack :signed-integer)   (:stack-trap #xAA6E :d0 16)); $ENDC;  AGRemoveCoachHandler;  Remove the Coach object location query handler.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGRemoveCoachHandler" ((resultRefNum (:pointer :unsigned-long)))   (:stack :signed-integer)   (:stack-trap #xAA6E :d0 20 resultRefNum)); $ENDC;  AGRemoveContextHandler;  Remove the context check query handler.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGRemoveContextHandler" ((resultRefNum (:pointer :unsigned-long)))   (:stack :signed-integer)   (:stack-trap #xAA6E :d0 21 resultRefNum)); $ENDC;  AGStart;  Start up Apple Guide in the background.; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_AGStart" ()   (:stack :signed-integer)   (:stack-trap #xAA6E :d0 10)); $ENDC; $ALIGN RESET; $POP; $SETC UsingIncludes := AppleGuideIncludes; $ENDC                                         ; __APPLEGUIDE__; $IFC NOT UsingIncludes; $ENDC(provide-interface 'AppleGuide)