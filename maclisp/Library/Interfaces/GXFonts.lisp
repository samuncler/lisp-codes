;; This form has been patched from HD:CCL3.0d17:Interface Translator:Patches:gxfonts.patch#|(in-package :TRAPS)|#;; ****************************************************************;;;; Author: Alan Ruttenberg, Mike Travers, Digitool.;; email:  alanr@media.mit.edu, mt@media.mit.edu;;;; Created: Sunday May 21,1995;; ;; ****************************************************************(in-package :traps); Generated from #P"HD:CCL3.0d17:Interface Translator:Source interfaces:Pascal Interfaces:GXFonts.p"; at Tuesday June 6,1995 2:10:44 pm.; ;  	File:		GXFonts.p;  ;  	Contains:	QuickDraw GX font routine interfaces.;  ;  	Version:	Technology:	Quickdraw GX 1.1;  				Package:	Universal Interfaces 2.1ß1 in “MPW Prerelease” on ETO #17;  ;  	Copyright:	© 1984-1995 by Apple Computer, Inc.;  				All rights reserved.;  ;  	Bugs?:		If you find a problem with this file, use the Apple Bug Reporter;  				stack.  Include the file and version information (from above);  				in the problem description and send to:;  					Internet:	apple.bugs@applelink.apple.com;  					AppleLink:	APPLE.BUGS;  ; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;; Modification History;;;;;; 04/17/97 bill  Peter Bengston's fixes to GXGetFontInstance & GXSetFontInstance;;;#|                                              ; $IFC UNDEFINED UsingIncludes; $SETC UsingIncludes := 0 |#                                             ; $ENDC; $IFC NOT UsingIncludes; $ENDC; $IFC UNDEFINED __GXFONTS__; $SETC __GXFONTS__ := 1; $I+; $SETC GXFontsIncludes := UsingIncludes; $SETC UsingIncludes := 1#|                                              ; $IFC UNDEFINED __CONDITIONALMACROS__|#(require-interface 'ConditionalMacros)#|                                              ; $I ConditionalMacros.p |#                                             ; $ENDC#|                                              ; $IFC UNDEFINED __GXMATH__|#(require-interface 'GXMath)#|                                              ; $I GXMath.p |#                                             ; $ENDC; 	Types.p														; 	FixMath.p													#|                                              ; $IFC UNDEFINED __GXTYPES__|#(require-interface 'GXTypes)#|                                              ; $I GXTypes.p |#                                             ; $ENDC; 	MixedMode.p													; $IFC UNDEFINED __SCALERTYPES__(require-interface 'ScalerTypes)                ; $I ScalerTypes.p; $ENDC; 	SFNTTypes.p													; $PUSH; $ALIGN MAC68K; $LibExport+; $SETC fontRoutinesIncludes := 1;; Inline instructions called as foreign function(deftrap-inline ("_GXNewFont" ("QuickDrawGXLib"))  ((storage :signed-long) (reference :pointer) (attributes :signed-long))   (:pointer :pointer)   (:c #x303C #x201 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXGetFont" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (reference (:pointer :pointer)) (attributes (:pointer :signed-long)))   :signed-long   (:c #x303C #x202 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXFindFont" ("QuickDrawGXLib"))  ((storage :signed-long) (reference :pointer) (attributes (:pointer :signed-long)))   (:pointer :pointer)   (:c #x303C #x203 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXSetFont" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (storage :signed-long) (reference :pointer) (attributes :signed-long))   nil   (:c #x303C #x204 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXDisposeFont" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)))   nil   (:c #x303C #x205 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXChangedFont" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)))   nil   (:c #x303C #x206 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXGetFontFormat" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)))   :signed-long   (:c #x303C #x207 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXGetDefaultFont" ("QuickDrawGXLib"))  ()   (:pointer :pointer)   (:c #x303C #x208 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXSetDefaultFont" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)))   (:pointer :pointer)   (:c #x303C #x209 #xA832) );; Inline instructions called as foreign function;; This form has been patched from HD:CCL3.0d17:Interface Translator:Patches:gxfonts.patch#|(deftrap-inline (_GXFindFonts ("QuickDrawGXLib")) ((familyID (:pointer :pointer)) (name :signed-long) (platform :signed-long) (script :signed-long) (language :signed-long) (length :signed-long) (text :signed-byte) (index :signed-long) (count :signed-long) (fonts (:pointer :pointer)))   :signed-long   (:c #x303C #x20A #xA832) )|#;; these traps are defined here because the eto#17 pascal header files for;; quickdraw gx mistakenly define string arguments as signed-byte ;; (byteparameter) instead of pointers. I replaced :signed-byte with ;; (:pointer :signed-byte)(deftrap-inline ("_GXFindFonts" ("QuickDrawGXLib"))  ((familyID (:pointer :pointer))   (name :signed-long)   (platform :signed-long)   (script :signed-long)   (language :signed-long)   (length :signed-long)   #|(text :signed-byte)|#   (text (:pointer :signed-byte))   (index :signed-long)   (count :signed-long)   (fonts (:pointer :pointer)))   :signed-long  (:c #x303C #x20A #xA832));; Inline instructions called as foreign function(deftrap-inline ("_GXCountFontGlyphs" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)))   :signed-long   (:c #x303C #x20B #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXCountFontTables" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)))   :signed-long   (:c #x303C #x20C #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXGetFontTable" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (index :signed-long) (tableData :pointer) (tableTag (:pointer :signed-long)))   :signed-long   (:c #x303C #x20D #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXFindFontTable" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (tableTag :signed-long) (tableData :pointer) (index (:pointer :signed-long)))   :signed-long   (:c #x303C #x20E #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXGetFontTableParts" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (index :signed-long) (offset :signed-long) (length :signed-long) (tableData :pointer) (tableTag (:pointer :signed-long)))   :signed-long   (:c #x303C #x20F #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXFindFontTableParts" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (tableTag :signed-long) (offset :signed-long) (length :signed-long) (tableData :pointer) (index (:pointer :signed-long)))   :signed-long   (:c #x303C #x210 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXSetFontTable" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (index :signed-long) (tableTag :signed-long) (length :signed-long) (tableData :pointer))   :signed-long   (:c #x303C #x211 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXSetFontTableParts" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (index :signed-long) (tableTag :signed-long) (offset :signed-long) (oldLength :signed-long) (newLength :signed-long) (tableData :pointer))   :signed-long   (:c #x303C #x212 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXDeleteFontTable" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (index :signed-long) (tableTag :signed-long))   :signed-long   (:c #x303C #x213 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXCountFontNames" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)))   :signed-long   (:c #x303C #x214 #xA832) );; Inline instructions called as foreign function;; This form has been patched from HD:CCL3.0d17:Interface Translator:Patches:gxfonts.patch#|(deftrap-inline (_GXGetFontName ("QuickDrawGXLib")) ((fontID (:pointer :pointer)) (index :signed-long) (name (:pointer :signed-long)) (platform (:pointer :signed-long)) (script (:pointer :signed-long)) (language (:pointer :signed-long)) (text :signed-byte))   :signed-long   (:c #x303C #x215 #xA832) )|#(deftrap-inline ("_GXGetFontName" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer))   (index :signed-long)   (name (:pointer :signed-long))   (platform (:pointer :signed-long))   (script (:pointer :signed-long))   (language (:pointer :signed-long))   #|(text :signed-byte)|#   (text (:pointer :signed-byte))   )   :signed-long  (:c #x303C #x215 #xA832));; Inline instructions called as foreign function;; This form has been patched from HD:CCL3.0d17:Interface Translator:Patches:gxfonts.patch#|(deftrap-inline (_GXFindFontName ("QuickDrawGXLib")) ((fontID (:pointer :pointer)) (name :signed-long) (platform :signed-long) (script :signed-long) (language :signed-long) (text :signed-byte) (index (:pointer :signed-long)))   :signed-long   (:c #x303C #x216 #xA832) )|#(deftrap-inline ("_GXFindFontName" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer))   (name :signed-long)   (platform :signed-long)   (script :signed-long)   (language :signed-long)   #|(text :signed-byte)|#   (text (:pointer :signed-byte))   (index (:pointer :signed-long)))   :signed-long  (:c #x303C #x216 #xA832));; Inline instructions called as foreign function;; This form has been patched from HD:CCL3.0d17:Interface Translator:Patches:gxfonts.patch#|(deftrap-inline (_GXSetFontName ("QuickDrawGXLib")) ((fontID (:pointer :pointer)) (name :signed-long) (platform :signed-long) (script :signed-long) (language :signed-long) (length :signed-long) (text :signed-byte))   :signed-long   (:c #x303C #x217 #xA832) )|#(deftrap-inline ("_GXSetFontName" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer))   (name :signed-long)   (platform :signed-long)   (script :signed-long)   (language :signed-long)   (length :signed-long)   #|(text :signed-byte)|#   (text (:pointer :signed-byte))   )  :signed-long  (:c #x303C #x217 #xA832));; Inline instructions called as foreign function(deftrap-inline ("_GXDeleteFontName" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (index :signed-long) (name :signed-long) (platform :signed-long) (script :signed-long) (language :signed-long))   :signed-long   (:c #x303C #x218 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXNewFontNameID" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)))   :signed-long   (:c #x303C #x219 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXCountFontEncodings" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)))   :signed-long   (:c #x303C #x21A #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXGetFontEncoding" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (index :signed-long) (script (:pointer :signed-long)) (language (:pointer :signed-long)))   :signed-long   (:c #x303C #x21B #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXFindFontEncoding" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (platform :signed-long) (script :signed-long) (language :signed-long))   :signed-long   (:c #x303C #x21C #xA832) );; Inline instructions called as foreign function;; This form has been patched from HD:CCL3.0d17:Interface Translator:Patches:gxfonts.patch#|(deftrap-inline (_GXApplyFontEncoding ("QuickDrawGXLib")) ((fontID (:pointer :pointer)) (index :signed-long) (length (:pointer :signed-long)) (text :signed-byte) (count :signed-long) (glyphs :signed-integer) (was16Bit :signed-byte))   :signed-long   (:c #x303C #x21D #xA832) )|#(deftrap-inline ("_GXApplyFontEncoding" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer))   (index :signed-long)   (length (:pointer :signed-long))   #|(text :signed-byte)|#   (text (:pointer :signed-byte))   (count :signed-long)   (glyphs :signed-integer)   #|(was16Bit :signed-byte)|#   (was16Bit (:pointer :signed-byte))   )   :signed-long  (:c #x303C #x21D #xA832));; Inline instructions called as foreign function(deftrap-inline ("_GXCountFontVariations" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)))   :signed-long   (:c #x303C #x21E #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXFindFontVariation" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (variationTag :signed-long) (minValue (:pointer :signed-long)) (defaultValue (:pointer :signed-long)) (maxValue (:pointer :signed-long)) (name (:pointer :signed-long)))   :signed-long   (:c #x303C #x21F #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXGetFontVariation" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (index :signed-long) (minValue (:pointer :signed-long)) (defaultValue (:pointer :signed-long)) (maxValue (:pointer :signed-long)) (name (:pointer :signed-long)))   :signed-long   (:c #x303C #x220 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXCountFontInstances" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)))   :signed-long   (:c #x303C #x221 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXGetFontInstance" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (index :signed-long) (variation (:pointer :gxfontvariation)))   :signed-long   (:c #x303C #x222 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXSetFontInstance" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (index :signed-long) (name :signed-long) (variation (:pointer :gxfontvariation)))  :signed-long   (:c #x303C #x223 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXDeleteFontInstance" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (index :signed-long) (name :signed-long))   :signed-long   (:c #x303C #x224 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXCountFontDescriptors" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)))   :signed-long   (:c #x303C #x225 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXGetFontDescriptor" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (index :signed-long) (descriptorValue (:pointer :signed-long)))   :signed-long   (:c #x303C #x226 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXFindFontDescriptor" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (descriptorTag :signed-long) (descriptorValue (:pointer :signed-long)))   :signed-long   (:c #x303C #x227 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXSetFontDescriptor" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (index :signed-long) (descriptorTag :signed-long) (descriptorValue :signed-long))   :signed-long   (:c #x303C #x228 #xA832) );; Inline instructions called as foreign function(deftrap-inline ("_GXDeleteFontDescriptor" ("QuickDrawGXLib"))  ((fontID (:pointer :pointer)) (index :signed-long) (descriptorTag :signed-long))   :signed-long   (:c #x303C #x229 #xA832) );; Inline instructions called as foreign function(deftrap-inline "_GXCountFontFeatures" ((fontID (:pointer :pointer)))   :signed-long   (:c #x303C #x22A #xA832) );; Inline instructions called as foreign function(deftrap-inline "_GXGetFontFeature" ((fontID (:pointer :pointer)) (index :signed-long) (flags (:pointer :signed-long)) (settingCount (:pointer :signed-long)) (settings :pointer) (feature (:pointer :signed-long)))   :signed-long   (:c #x303C #x22B #xA832) );; Inline instructions called as foreign function(deftrap-inline "_GXFindFontFeature" ((fontID (:pointer :pointer)) (feature :signed-long) (flags (:pointer :signed-long)) (settingCount (:pointer :signed-long)) (settings :pointer) (index (:pointer :signed-long)))   :signed-long   (:c #x303C #x22C #xA832) );; Inline instructions called as foreign function(deftrap-inline "_GXGetFontDefaultFeatures" ((fontID (:pointer :pointer)) (features (:pointer :gxrunfeature)))  :signed-long   (:c #x303C #x274 #xA832) );; Inline instructions called as foreign function(deftrap-inline "_GXFlattenFont" ((source (:pointer :pointer)) (stream (:pointer :scalerstream)) (block (:pointer :gxspoolblock)))   nil   (:c #x303C #x22D #xA832) ); $ALIGN RESET; $POP; $SETC UsingIncludes := GXFontsIncludes; $ENDC                                         ; __GXFONTS__; $IFC NOT UsingIncludes; $ENDC(provide-interface 'GXFonts)