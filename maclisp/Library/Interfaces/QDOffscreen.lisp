(in-package :TRAPS); Generated from #P"HD:CCL3.0d17:Interface Translator:Source interfaces:Pascal Interfaces:QDOffscreen.p"; at Tuesday June 6,1995 2:11:44 pm.; ;  	File:		QDOffscreen.p;  ;  	Contains:	QuickDraw Offscreen GWorld Interfaces.;  ;  	Version:	Technology:	System 7.5;  				Package:	Universal Interfaces 2.0 in “MPW Latest” on ETO #17;  ;  	Copyright:	© 1984-1995 by Apple Computer, Inc.;  				All rights reserved.;  ;  	Bugs?:		If you find a problem with this file, use the Apple Bug Reporter;  				stack.  Include the file and version information (from above);  				in the problem description and send to:;  					Internet:	apple.bugs@applelink.apple.com;  					AppleLink:	APPLE.BUGS;  ; #|                                              ; $IFC UNDEFINED UsingIncludes; $SETC UsingIncludes := 0 |#                                             ; $ENDC#|                                              ; $IFC NOT UsingIncludes |#                                             ; $ENDC; $IFC UNDEFINED __QDOFFSCREEN__; $SETC __QDOFFSCREEN__ := 1; $I+; $SETC QDOffscreenIncludes := UsingIncludes; $SETC UsingIncludes := 1#|                                              ; $IFC UNDEFINED __ERRORS__|#(require-interface 'Errors)#|                                              ; $I Errors.p |#                                             ; $ENDC; 	ConditionalMacros.p											#|                                              ; $IFC UNDEFINED __QUICKDRAW__|#(require-interface 'Quickdraw)#|                                              ; $I Quickdraw.p |#                                             ; $ENDC; 	Types.p														; 	MixedMode.p													; 	QuickdrawText.p												; $PUSH; $ALIGN MAC68K; $LibExport+(defconstant $pixPurgeBit 0)(defconstant $noNewDeviceBit 1)(defconstant $useTempMemBit 2)(defconstant $keepLocalBit 3)(defconstant $pixelsPurgeableBit 6)(defconstant $pixelsLockedBit 7)(defconstant $mapPixBit 16)(defconstant $newDepthBit 17)(defconstant $alignPixBit 18)(defconstant $newRowBytesBit 19)(defconstant $reallocPixBit 20)(defconstant $clipPixBit 28)(defconstant $stretchPixBit 29)(defconstant $ditherPixBit 30)(defconstant $gwFlagErrBit 31)(defconstant $pixPurge (* 1 (expt 2 #$pixPurgeBit)))(defconstant $noNewDevice (* 1 (expt 2 #$noNewDeviceBit)))(defconstant $useTempMem (* 1 (expt 2 #$useTempMemBit)))(defconstant $keepLocal (* 1 (expt 2 #$keepLocalBit)))(defconstant $pixelsPurgeable (* 1 (expt 2 #$pixelsPurgeableBit)))(defconstant $pixelsLocked (* 1 (expt 2 #$pixelsLockedBit)))(defconstant $mapPix (* 1 (expt 2 #$mapPixBit)))(defconstant $newDepth (* 1 (expt 2 #$newDepthBit)))(defconstant $alignPix (* 1 (expt 2 #$alignPixBit)))(defconstant $newRowBytes (* 1 (expt 2 #$newRowBytesBit)))(defconstant $reallocPix (* 1 (expt 2 #$reallocPixBit)))(defconstant $clipPix (* 1 (expt 2 #$clipPixBit)))(defconstant $stretchPix (* 1 (expt 2 #$stretchPixBit)))(defconstant $ditherPix (* 1 (expt 2 #$ditherPixBit)))(defconstant $gwFlagErr (* 1 (expt 2 #$gwFlagErrBit))); Warning: Patching def of type GWorldFlags from translator table: was :signed-long, is now :unsigned-long(def-mactype :gworldflags (find-mactype :unsigned-long))#| (def-mactype :gworldflags (find-mactype ':signed-long)) |#;  Type definition of a GWorldPtr (def-mactype :gworldptr (find-mactype '(:pointer :cgrafport))); CONST                                         ; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_NewGWorld" ((offscreenGWorld (:pointer (:pointer :cgrafport))) (PixelDepth :signed-integer) (boundsRect (:pointer :rect)) (cTable (:handle :colortable)) (aGDevice (:handle :gdevice)) (flags :unsigned-long))   (:stack :signed-integer)   (:stack-trap #xAB1D :d0 (+ (ash 22 16) 0) offscreenGWorld PixelDepth boundsRect cTable aGDevice flags)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_LockPixels" ((pm (:handle :pixmap)))   (:stack :boolean)   (:stack-trap #xAB1D :d0 (+ (ash 4 16) 1) pm)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_UnlockPixels" ((pm (:handle :pixmap)))   nil   (:stack-trap #xAB1D :d0 (+ (ash 4 16) 2) pm)); $ENDC; CONST                                         ; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_UpdateGWorld" ((offscreenGWorld (:pointer (:pointer :cgrafport))) (pixelDepth :signed-integer) (boundsRect (:pointer :rect)) (cTable (:handle :colortable)) (aGDevice (:handle :gdevice)) (flags :unsigned-long))   (:stack :unsigned-long)   (:stack-trap #xAB1D :d0 (+ (ash 22 16) 3) offscreenGWorld pixelDepth boundsRect cTable aGDevice flags)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_DisposeGWorld" ((offscreenGWorld (:pointer :cgrafport)))   nil   (:stack-trap #xAB1D :d0 (+ (ash 4 16) 4) offscreenGWorld)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_GetGWorld" ((port (:pointer (:pointer :cgrafport))) (gdh (:pointer (:handle :gdevice))))   nil   (:stack-trap #xAB1D :d0 (+ (ash 8 16) 5) port gdh)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_SetGWorld" ((port (:pointer :cgrafport)) (gdh (:handle :gdevice)))   nil   (:stack-trap #xAB1D :d0 (+ (ash 8 16) 6) port gdh)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_CTabChanged" ((ctab (:handle :colortable)))   nil   (:stack-trap #xAB1D :d0 (+ (ash 4 16) 7) ctab)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_PixPatChanged" ((ppat (:handle :pixpat)))   nil   (:stack-trap #xAB1D :d0 (+ (ash 4 16) 8) ppat)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_PortChanged" ((port (:pointer :grafport)))   nil   (:stack-trap #xAB1D :d0 (+ (ash 4 16) 9) port)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_GDeviceChanged" ((gdh (:handle :gdevice)))   nil   (:stack-trap #xAB1D :d0 (+ (ash 4 16) 10) gdh)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_AllowPurgePixels" ((pm (:handle :pixmap)))   nil   (:stack-trap #xAB1D :d0 (+ (ash 4 16) 11) pm)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_NoPurgePixels" ((pm (:handle :pixmap)))   nil   (:stack-trap #xAB1D :d0 (+ (ash 4 16) 12) pm)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_GetPixelsState" ((pm (:handle :pixmap)))   (:stack :unsigned-long)   (:stack-trap #xAB1D :d0 (+ (ash 4 16) 13) pm)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_SetPixelsState" ((pm (:handle :pixmap)) (state :unsigned-long))   nil   (:stack-trap #xAB1D :d0 (+ (ash 8 16) 14) pm state)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_GetPixBaseAddr" ((pm (:handle :pixmap)))   (:stack :pointer)   (:stack-trap #xAB1D :d0 (+ (ash 4 16) 15) pm)); $ENDC; CONST                                         ; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_NewScreenBuffer" ((globalRect (:pointer :rect)) (purgeable :boolean) (gdh (:pointer (:handle :gdevice))) (offscreenPixMap (:pointer (:handle :pixmap))))   (:stack :signed-integer)   (:stack-trap #xAB1D :d0 (+ (ash 14 16) 16) globalRect purgeable gdh offscreenPixMap)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_DisposeScreenBuffer" ((offscreenPixMap (:handle :pixmap)))   nil   (:stack-trap #xAB1D :d0 (+ (ash 4 16) 17) offscreenPixMap)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_GetGWorldDevice" ((offscreenGWorld (:pointer :cgrafport)))   (:stack (:handle :gdevice))   (:stack-trap #xAB1D :d0 (+ (ash 4 16) 18) offscreenGWorld)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_QDDone" ((port (:pointer :grafport)))   (:stack :boolean)   (:stack-trap #xAB1D :d0 (+ (ash 4 16) 19) port)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator moveq-word-to-d0(deftrap "_OffscreenVersion" ()   (:stack :signed-long)   (:stack-trap #xAB1D :d0 20)); $ENDC; CONST                                         ; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_NewTempScreenBuffer" ((globalRect (:pointer :rect)) (purgeable :boolean) (gdh (:pointer (:handle :gdevice))) (offscreenPixMap (:pointer (:handle :pixmap))))   (:stack :signed-integer)   (:stack-trap #xAB1D :d0 (+ (ash 14 16) 21) globalRect purgeable gdh offscreenPixMap)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_PixMap32Bit" ((pmHandle (:handle :pixmap)))   (:stack :boolean)   (:stack-trap #xAB1D :d0 (+ (ash 4 16) 22) pmHandle)); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator put-a-constant-longword-in-d0(deftrap "_GetGWorldPixMap" ((offscreenGWorld (:pointer :cgrafport)))   (:stack (:handle :pixmap))   (:stack-trap #xAB1D :d0 (+ (ash 4 16) 23) offscreenGWorld)); $ENDC; $ALIGN RESET; $POP; $SETC UsingIncludes := QDOffscreenIncludes; $ENDC                                         ; __QDOFFSCREEN__#|                                              ; $IFC NOT UsingIncludes |#                                             ; $ENDC(provide-interface 'QDOffscreen);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch(DEFCONSTANT $GWORLDFLAGS4 4);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch (DEFCONSTANT $GWORLDFLAGS14 14);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch (DEFCONSTANT $GWORLDFLAGS26 26);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch (DEFCONSTANT $GWORLDFLAGS13 13);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch (DEFCONSTANT $GWORLDFLAGS12 12);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch (DEFCONSTANT $GWORLDFLAGS25 25);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch (DEFCONSTANT $GWORLDFLAGS24 24);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch (DEFCONSTANT $GWORLDFLAGS23 23);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch (DEFCONSTANT $GWORLDFLAGS11 11);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch (DEFCONSTANT $GWORLDFLAGS10 10);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch (DEFCONSTANT $GWORLDFLAGS22 22);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch (DEFCONSTANT $GWORLDFLAGS9 9);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch (DEFCONSTANT $GWORLDFLAGS8 8);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch (DEFCONSTANT $GWORLDFLAGS21 21);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch (DEFCONSTANT $GWORLDFLAGS5 5);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch (DEFCONSTANT $GWORLDFLAGS15 15);; This form has been added from patch file HD:CCL3.0d17:Interface Translator:legacies:QDOffscreen.patch (DEFCONSTANT $GWORLDFLAGS27 27)