(in-package :TRAPS); Generated from #P"HD:CCL3.0d17:Interface Translator:Source interfaces:Pascal Interfaces:ShutDown.p"; at Tuesday June 6,1995 2:20:35 pm.; ;  	File:		ShutDown.p;  ;  	Contains:	Shutdown Manager Interfaces.;  ;  	Version:	Technology:	System 7.5;  				Package:	Universal Interfaces 2.0 in ÒMPW LatestÓ on ETO #17;  ;  	Copyright:	© 1984-1995 by Apple Computer, Inc.;  				All rights reserved.;  ;  	Bugs?:		If you find a problem with this file, use the Apple Bug Reporter;  				stack.  Include the file and version information (from above);  				in the problem description and send to:;  					Internet:	apple.bugs@applelink.apple.com;  					AppleLink:	APPLE.BUGS;  ; #|                                              ; $IFC UNDEFINED UsingIncludes; $SETC UsingIncludes := 0 |#                                             ; $ENDC; $IFC NOT UsingIncludes; $ENDC; $IFC UNDEFINED __SHUTDOWN__; $SETC __SHUTDOWN__ := 1; $I+; $SETC ShutDownIncludes := UsingIncludes; $SETC UsingIncludes := 1#|                                              ; $IFC UNDEFINED __TYPES__|#(require-interface 'Types)#|                                              ; $I Types.p |#                                             ; $ENDC; 	ConditionalMacros.p											#|                                              ; $IFC UNDEFINED __MIXEDMODE__|#(require-interface 'MixedMode)#|                                              ; $I MixedMode.p |#                                             ; $ENDC; $PUSH; $ALIGN MAC68K; $LibExport+(defconstant $sdOnPowerOff 1)                   ; call procedure before power off.(defconstant $sdOnRestart 2)                    ; call procedure before restart.(defconstant $sdOnUnmount 4)                    ; call procedure before unmounting.(defconstant $sdOnDrivers 8)                    ; call procedure before closing drivers.(defconstant $sdRestartOrPower 3)               ; call before either power off or restart.; ; 		ShutDwnProcPtr uses register based parameters on the 68k and cannot; 		be written in or called from a high-level language without the help of; 		mixed mode or assembly glue.; ; 		In:; 		 => shutDownStage	D0.W; 	(def-mactype :shutdwnprocptr (find-mactype ':pointer));  register PROCEDURE ShutDwn(shutDownStage: INTEGER); (def-mactype :shutdwnupp (find-mactype ':pointer))(defconstant $uppShutDwnProcInfo #x1002)        ;  Register PROCEDURE (2 bytes in D0); ; $IFC NOT GENERATINGCFM ;; Generated by translator basic-stack-trap(deftrap "_NewShutDwnProc" ((userRoutine :pointer))   (:stack :pointer)   (:stack-trap #x2E9F)); $ENDC; $IFC NOT GENERATINGCFM                        ; To be implemented:  Glue to move parameters into registers.; $ENDC;; Warning: No calling method defined for this trap(deftrap-inline "_CallShutDwnProc" ((shutDownStage :signed-integer) (userRoutine :pointer))   nil   () )                                         ; $IFC NOT GENERATINGCFM;; Generated by translator push-a-constant-word-on-stack(deftrap "_ShutDwnPower" ()   nil   (:stack-trap #xA895 (1 :signed-integer))); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator push-a-constant-word-on-stack(deftrap "_ShutDwnStart" ()   nil   (:stack-trap #xA895 (2 :signed-integer))); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator push-a-constant-word-on-stack(deftrap "_ShutDwnInstall" ((shutDownProc :pointer) (flags :signed-integer))   nil   (:stack-trap #xA895 shutDownProc flags (3 :signed-integer))); $ENDC; $IFC NOT GENERATINGCFM;; Generated by translator push-a-constant-word-on-stack(deftrap "_ShutDwnRemove" ((shutDownProc :pointer))   nil   (:stack-trap #xA895 shutDownProc (4 :signed-integer))); $ENDC; $ALIGN RESET; $POP; $SETC UsingIncludes := ShutDownIncludes; $ENDC                                         ; __SHUTDOWN__; $IFC NOT UsingIncludes; $ENDC(provide-interface 'ShutDown)