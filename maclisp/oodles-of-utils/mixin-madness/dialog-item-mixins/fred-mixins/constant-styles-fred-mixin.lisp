(in-package :oou)(oou-provide :constant-styles-fred-mixin);*****************************************************************                                    ;; Copyright © 1991 Institut fuer Informatik, University of Basel, Switzerland ; All Rights Reserved;; Author: Dieter Holz;; a mixin for fred. tries to fill in the character in correct styles. Works for key-events only;; Changes (worth to be mentioned):; ------------------------------;  4/9/95 Dieter: is provided in CCL 3.0;;;*****************************************************************;*****************************************************************(oou-dependencies :wrap-fred-mixin                                ) (export '(constant-styles-fred-mixin                 ));---------------------------- -------------------------------------(defclass constant-styles-fred-mixin ()    ())#|(defmethod view-key-event-handler :around ((self constant-styles-fred-mixin) char)    (declare (ignore char))    (let* ((buffer (fred-buffer self))                (old-buffer-font-spec (buffer-current-font-spec buffer)))        (cond ((= (buffer-size buffer) 0)                    (call-next-method))                  (t                     (let ((insert-position (max 0 (1- (buffer-position buffer)))))                        (when (find (buffer-char buffer insert-position) *wsp&cr*)                             (setf insert-position (min (1+ insert-position) (1- (buffer-size buffer))))                             (when (find (buffer-char buffer insert-position) *wsp&cr*)                                  (setf insert-position (max 0 (1- (buffer-position buffer))))))                        (buffer-set-font-spec buffer (buffer-char-font-spec buffer insert-position))                        (call-next-method)                        (buffer-set-font-spec buffer old-buffer-font-spec))))))|##|(defclass my-fred (constant-styles-fred-mixin fred-window)    ())(setf win (make-instance 'my-fred))(defclass my-fred-di (constant-styles-fred-mixin fred-dialog-item)    ())(make-instance 'window     :view-size #@(300 200)     :view-subviews (list (setf win (make-instance 'my-fred-di                                              :allow-returns t                                              :view-position #@(50 50)                                              :view-size #@(200 100)))))|#