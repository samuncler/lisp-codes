(in-package :oou)(oou-provide :floating-message-dialog);*****************************************************************                                    ;; Copyright © 1991 Institut fuer Informatik, University of Basel, Switzerland ; All Rights Reserved;; Author: Dieter Holz;; a slightly different message-dialog.;; Changes (worth to be mentioned):; ------------------------------; none ;;*****************************************************************;*****************************************************************(oou-dependencies :unibas-cursors)(export '(floating-message-dialog          ));-----------------------------------------------------------------(defmethod my-modal-dialog ((dialog window) &optional (0k-button-position (subtract-points (view-size dialog) #@(70 30)))                            &aux ret)  (declare (ignore 0k-button-position ret))  (ccl::modal-dialog dialog))(defun floating-message-dialog (message &key (ok-text "OK")                              (size #@(335 100))                              ;(position (subtract-points (view-mouse-position nil)                              ;                           (subtract-points size #@(75 35))))                              (position (list :top (+ *menubar-bottom* 10)))                              )  (let* ((message-width (- (point-h size) 85))         (new-dialog          (make-instance           'dialog           :view-position position           :view-size size           :window-type :double-edge-box           :window-show nil           :view-subviews           `(,(make-instance                'default-button-dialog-item               :dialog-item-text ok-text               :view-position (subtract-points                                      size #@(75 35))               :view-size #@(62 20)               :dialog-item-action #'(lambda (item)                                       (declare (ignore item))                                       (return-from-modal-dialog t)))             ,(make-instance                'static-text-dialog-item               :dialog-item-text message               :view-size (make-point                                  message-width                                  (- (point-v size)                                     30)))))))    (with-cursor oou::*pointer-hand-cursor*      (my-modal-dialog new-dialog))));(floating-message-dialog "hello");message-dialog