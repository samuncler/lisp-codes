;;	Change History (most recent first):;;  2 8/25/97  akh  no change;;  (do not edit before this line!!); level-1-com.lisp - included in the various level-1-XXX.lisp files; Copyright 1995 Digitool, Inc.;; **** There must be NO lisp package or nilreg-rel immediates in this file ****(old-lap-inline ( (nfunction   nil   (lambda ()    (old-lap     (preserve_regs #(asave0 asave1))     (move.l '#.*common-lisp-package* asave1)     (lea (nilreg $nil_val) atemp0)     (if# (eq (atemp0 $sym.pname) nilreg)       (move.l '"NIL" (atemp0 $sym.pname))       (bsr @externlisp))     (lea (nilreg $t_val) atemp0)     (if# (eq (atemp0 $sym.pname) nilreg)       (move.l '"T" (atemp0 $sym.pname))       (bsr @externlisp))     (move.l '#.%lisp-symbols% asave0)     (prog#      (car asave0 arg_z)      (cdr asave0 asave0)      (jsr_subprim $sp-makesym)      (move.l arg_z atemp0)      (bsr @externlisp)      (until# (eq nilreg asave0)))     (restore_regs)     (lfret)@externlisp     (move.l asave1 acc)			; Lisp package     (vpush atemp0)     (sympname atemp0 atemp0)     (vsize atemp0 da)     (jsr #'%%findsym)     (if# eq				; Not there already       (vpop acc)       (move.l asave1 atemp1)       (move.l acc atemp0)       (move.l atemp1 (atemp0 $sym.package-plist))       (move.l (svref atemp1 pkg.etab) atemp1) ; external table       (move.l dy db)       (jmp #'%%HAdd))     (vpop acc) ; was already interned, ignore for now (shouldn't happen)     (rts))))) (move.l arg_z atemp0) (set_nargs 0) (jsr @atemp0))(old-lap-inline ()  (preserve_regs #(asave0 asave1 dsave1))  ;The order here must match xt_*** in constants.i  (move.l '#("%ERR-DISP" "CMAIN" "EVAL"             "APPLY-EVALUATED-FUNCTION" "ERROR"             "%DEFUN" "%DEFVAR" "%DEFCONSTANT" "%MACRO" "%KERNEL-RESTART") asave0)  (move.l asave0 (special %nilreg-fcell-symbols%))  (restore_regs))(old-lap-inline ()  (preserve_regs #(asave0 asave1 dsave0))  ;The order here must match vc_*** in constants.i  (move.l '#("*PACKAGE*"              "*INTERRUPT-LEVEL*"              ("ALLOW-OTHER-KEYS")             "%TOPLEVEL-CATCH%"             "%TOPLEVEL-FUNCTION%"              "%PASCAL-FUNCTIONS%"               "*ALL-METERED-FUNCTIONS*"             "*%DYNVFP%*"             "*%DYNVLIMIT%*"             "%UNBOUND-FUNCTION%"             "*FOREGROUND*"              "*BACKGROUND-SLEEP-TICKS*"              "*FOREGROUND-SLEEP-TICKS*"             "*WINDOW-UPDATE-WPTR*"              "*GC-EVENT-STATUS-BITS*"             "*PRE-GC-HOOK*"             "*POST-GC-HOOK*"             "%HANDLERS%"             "%PARSE-STRING%"              "%ALL-PACKAGES%"              "*KEYWORD-PACKAGE*"             "%SAVED-METHOD-VAR%"       ; $vc.saved_method_var - must be here             "%FINALIZATION-ALIST%"     ; $vc.finalization_list - must be here             "*CURRENT-STACK-GROUP*"    ; $vc.cursg - must be here             ) asave0)  (move.l asave0 (special %nilreg-vcell-symbols%))  (restore_regs)); End of level-1-com.lisp